<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Light's Out - A Javascript mind game</title>
        <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
        <script src="./build/board.js" defer></script>
        <script src="./build/engine.js" defer></script>
        <script src="./build/game.js" defer></script>
        <style>
            input::-webkit-outer-spin-button,
            input::-webkit-inner-spin-button {
                -webkit-appearance: none;
                margin: 0;
            }
            input[type="number"] {
                -moz-appearance: textfield;
            }
            .light {
                flex-shrink: 0;
                background-color: white;
                border-radius: 5px;
                box-shadow: rgba(99, 99, 99, 0.2) 0px 2px 8px 0px;
                cursor: pointer;
                width: 50px;
                height: 50px;
            }
            #game .light.on {
                background-color: oklch(0.585 0.233 277.117) !important;
            }
            #game .game-grid,
            #game .game-grid > div {
                gap: 5px;
            }
            #game .game-grid {
                margin: 0 auto;
                padding-bottom: 8px;
                width: calc(100vw - 24px);
                overflow: auto;
                display: flex;
                flex-direction: column;
                margin-bottom: 4px;
            }
            #game .game-grid > div {
                justify-content: center;
                display: flex;
                flex-direction: row;
                flex-shrink: 0;
            }
            #game > .attempts {
                text-align: center;
            }
        </style>
    </head>
    <body class="bg-neutral-100">
        <div class="text-zinc-700 text-sm mt-4">
            <aside class="text-center mb-4 text-xs">
                Checkout this game on my
                <a
                    href="https://github.com/ryan-hmd/lights-out"
                    target="_blank"
                    class="text-indigo-500 font-medium"
                    >GitHub</a
                >üëç
            </aside>
            <header class="text-center">
                <h1 class="font-semibold text-xl mb-4">
                    Light's Out : the mind game !
                </h1>
                <div>
                    <p class="mb-2">
                        Click on a light to toggle it and its adjacent lights.
                        <br />
                        Turn all the lights off to win !
                    </p>
                </div>
            </header>
            <main>
                <div id="game" class="my-8 text-center"></div>

                <form
                    id="settings"
                    class="flex flex-col sm:flex-row gap-2 w-fit justify-center mx-auto *:shadow-sm"
                >
                    <div
                        class="flex bg-white w-fit items-center rounded-md relative"
                    >
                        <label
                            for="dimX"
                            class="absolute -top-4.5 left-1 text-xs font-semibold text-neutral-500"
                            >Grid size</label
                        >
                        <input
                            id="dimX"
                            name="dimX"
                            placeholder="7"
                            type="number"
                            min="1"
                            class="field-sizing-content min-w-[50px] text-center px-4 py-2"
                            autocomplete="off"
                        />
                        <div class="font-semibold text-xl pb-1 text-gray-400">
                            &times;
                        </div>
                        <input
                            name="dimY"
                            placeholder="5"
                            type="number"
                            min="1"
                            class="field-sizing-content min-w-[50px] text-center px-4 py-2"
                            autocomplete="off"
                        />
                    </div>
                    <button
                        type="submit"
                        class="bg-indigo-500 text-white font-semibold cursor-pointer px-4 py-2 rounded-md"
                    >
                        Start game
                    </button>
                </form>
            </main>
            <aside class="text-xs text-center text-neutral-400 mt-3">
                <b>Note : </b>All grids are randomly generated but
                <u>always</u>
                solvable.
                <br />
                Sizes are permuted if needed to make the grid horizontal.
            </aside>
        </div>
    </body>
</html>
